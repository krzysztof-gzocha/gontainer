meta:
  pkg: container

services:
  library:
    getter: "GetLibrary"
    type: "library/pkg.Library"
    fields:
      Books: "!tagged book"

  authorBrandonSanderson:
    type: "library/pkg.Author"
    fields:
      Name: "Brandon Sanderson"

  authorGeorgeRRMartin:
    type: "library/pkg.Author"
    fields:
      Name: "George R. R. Martin"

  bookTheWayOfKings:
    type: "library/pkg.Book"
    fields:
      Author: "@authorBrandonSanderson"
      Title: "The Way of Kings"
    tags: [{"name": "book", "priority": 100}]

  bookWordsOfRadiance:
    type: "library/pkg.Book"
    fields:
      Author: "@authorBrandonSanderson"
      Title: "Words of Radiance"
    tags: ["book"] # priority is equal to 0

  bookAGameOfThrones:
    type: "library/pkg.Book"
    fields:
      Author: "@authorGeorgeRRMartin"
      Title: "A Game of Thrones"
    tags: ["book"]
